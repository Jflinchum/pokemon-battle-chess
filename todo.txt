TODO:
Matchmaking
Queue up your draft and bans
Create formats to quick select game options in room
Write validation functions when writing/reading from localstorage and clear it out if failing validation
Download/upload replay
  - Store current user info as a spectator
  - Offer "Download Replay" button on Error Boundary if player was in game?
    - On error, would need to set the match history in state somewhere. Maybe some sort of error context?
Player secret generation and handshake on move requests
Add more music and make music playlist w/ skip track button
Pokemon Cries
Are you sure you want to leave? modal when returning to menu in game
Profanity filter on names and chat
Keyboard navigation and accessibility
Add arrow going from attacking piece to attacked piece on client
  - Can build it up by parts. Start with line going from middle of the square to 
  any 8 directions. Then line going through square. Then one curve for knight moves.
Battle conclusion animation? Needs to be a little short and skippable for bullet chess
Add Pokedex on left nav to look up full descriptions?

Room Options
- Preserve damage after battle
- Tera enabled
  - A Pokemon can only tera once in a match, and then they can't tera again
- Set player colors before starting
- Closed Team Sheets
- Custom Teams
- (maybe) Preserve item usage after battle
- (maybe) Change pokemon on piece promotion
- (maybe) Level Up Progression
  - piece starts out weak, but gains levels/evolutions as you beat other pieces

Priority:
- Better logging
  - Use winston + prometheus + grafana?
- Toast notifications for errors and such
- More detailed modals in game
  - Add server disconnect
- Robots.txt disable search engine crawling (for now)
- (better) Error boundary
- Queueing up Drafts/Chess moves
  - Queue up drafts but not bans? Bans seem tough to convey queues with
  - Drafts
    - Instead of merging the board state within BattleChessManager, 
      store state of current drafted pieces and merge the board state
      within draft manager
    - Store a queue of drafts within draft manager that you can the dequeue
      when it is the player's turn to draft
      - Be careful of index shifting. Pokemon are unique, so we could store the species.
        However it may be nicer to shift the index of the queue when a pokemon is drafted

Refactor TODOs:
- Potentially lift game logic into new model
- Lift weather out of pokemon manager
- Type socket events and parameters
- Move z index to variables at root
- Put API request and response types in shared folder
- Organize frontend types in a single dir and re-use more efficiently
- Separate out draft/ban calls
- Move logic in controller/index into GameRoom
- Remove key from chessmanager since it's a hack to re-render pokemon after drafting

Issues:
- Terrain/weather clearing should clear square modifier
- Weather square info on detail card does not show up during drafting
- Wrong music playing after skipping to current turn when catching up
- Music isn't playing on replays
- Resyncing while in pokemon battle prevents any actions from sending to the server
  - Specifically regaining socket connection, not rejoining the room
- Resyncing right after a battle while fast forwarding
  - This issue seems to come and go. Needs more investigation
- Premoves:
  - Occasionally clearing when it shouldn't
- Disallow server inputs when match has ended
- Pokemon sprites occasionally disappearing
  - Caching issue? Clearing cache and refreshing fixes it, and it doesn't happen on all clients
- On reconnect, server should check if the game is on going and tell the client the room is closed if it isn't
  - Can test on mobile by turning off the screen and waiting for timeout to occur
- Chat rooms work between multiple rooms
- OG/Twitter meta tags do not support svg

Dropping features:
- Global Chat
  - Don't want to moderate
  - Increases the websocket connections => more servers
  - Discord exists, people can make that
- Break out the draft into multiple phases (i.e pawns, bishops&knights, rooks, queen&king)
  - Could potentially be interesting as an option, but seems like it makes it a little too complicated for not much gain in regards to strategy