TODO:
Matchmaking
Host controls
  - Set player color
  - Kick player
  - Promote to host
Queue up your draft and bans
Create formats to quick select game options in room
Write validation functions when writing/reading from localstorage and clear it out if failing validation
Download/upload replay
  - Store current user info as a spectator
  - Offer "Download Replay" button on Error Boundary if player was in game?
    - On error, would need to set the match history in state somewhere. Maybe some sort of error context?
Player secret generation and handshake on move requests
Make modal with tabs on side for different screens
  - Collapse Change Name and Change Avatar into Customize menu option
  - Options for Game, Sound, etc.
Add more music and make music playlist w/ skip track button
Pokemon Cries
Use grid for chess board
Move z index to variables at root
Are you sure you want to leave? modal when returning to menu in game
Use sprites option in game settings

Keyboard navigation and accessibility

Room Options
- Preserve damage after battle
- Tera enabled
- A Pokemon can only tera once in a match, and then they can't tera again
- Custom Teams
- (maybe) Preserve item usage after battle
- (maybe) Change pokemon on piece promotion
- (maybe) Level Up Progression
  - piece starts out weak, but gains levels/evolutions as you beat other pieces

Priority:
- Terrain/weather clearing should clear square modifier
- Queueing up Drafts/Chess moves
  - Queue up drafts but not bans? Bans seem tough to convey queues with
  - Drafts
    - Instead of merging the board state within BattleChessManager, 
      store state of current drafted pieces and merge the board state
      within draft manager
    - Store a queue of drafts within draft manager that you can the dequeue
      when it is the player's turn to draft
      - Be careful of index shifting. Pokemon are unique, so we could store the species.
        However it may be nicer to shift the index of the queue when a pokemon is drafted
  - Chess moves
    - Clear queue if most recent move of your color failed
- Host controls
  - Redesign player list first, both in room and in game
- Better logging
  - Use winston + prometheus + grafana?
- Toast notifications for errors and such
- More detailed modals in game
  - Add server disconnect
- Robots.txt disable search engine crawling (for now)
- (better) Error boundary

Refactor TODOs:
- Potentially lift game logic into new model
- Lift weather out of pokemon manager
- Put API request and response types in shared folder
- Organize frontend types in a single dir and re-use more efficiently
- Separate out draft/ban calls
- Move logic in controller/index into GameRoom

Issues:
- Resync not working, likely due to clearing out match history state in room manager
- Resyncing while in pokemon battle prevents any actions from sending to the server
  - Specifically regaining socket connection, not rejoining the room
- Use em/rem for text sizes
- Resyncing right after a battle while fast forwarding
  - This issue seems to come and go. Needs more investigation
- Premoves:
  - Disallow premoving for spectators or when the game has ended
  - Occasionally clearing when it shouldn't
- Disallow client controls when the match ends
- Disallow server inputs when match has ended
- Pokemon sprites occasionally disappearing
  - Caching issue? Clearing cache and refreshing fixes it, and it doesn't happen on all clients
- On reconnect, server should check if the game is on going and tell the client the room is closed if it isn't
  - Can test on mobile by turning off the screen and waiting for timeout to occur
- Chat rooms work between multiple rooms
- OG/Twitter meta tags do not support svg

Dropping features:
- Global Chat
  - Don't want to moderate
  - Increases the websocket connections => more servers
  - Discord exists, people can make that
- Break out the draft into multiple phases (i.e pawns, bishops&knights, rooks, queen&king)
  - Could potentially be interesting as an option, but seems like it makes it a little too complicated for not much gain in regards to strategy