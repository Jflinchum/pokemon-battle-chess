TODO:
Matchmaking
Host controls
  - Set player color
  - Update settings
  - Kick player
  - Promote to host
  - Return to room in-game
Queue up your draft and bans
Add forfeit button to pokemon battle
Create formats to quick select game options in room
Turn timer into second:millisecond timer once down below a minute left
Write validation functions when writing/reading from localstorage and clear it out if failing validation
Download/upload replay
  - Store current user info as a spectator
  - Offer "Download Replay" button on Error Boundary if player was in game?
    - On error, would need to set the match history in state somewhere. Maybe some sort of error context?
Options Modal
  - Sound effects
Player secret generation and handshake on move requests
Balance pokemon generation based on BST in random mode
Collapse Change Name and Change Avatar into Customize menu option

Keyboard navigation and accessibility

Room Options
 - Weather on random chess spaces
 - Preserve damage after battle
 - Tera enabled
  - A Pokemon can only tera once in a match, and then they can't tera again
 - Custom Teams
 - (maybe) Preserve item usage after battle
 - (maybe) Change pokemon on piece promotion
 - Level Up Progression
    - piece starts out weak, but gains levels/evolutions as you beat other pieces

Priority:
- Queueing up Drafts/Chess moves
  - Queue up drafts but not bans? Bans seem tough to convey queues with
  - Drafts
    - Instead of merging the board state within BattleChessManager, 
      store state of current drafted pieces and merge the board state
      within draft manager
    - Store a queue of drafts within draft manager that you can the dequeue
      when it is the player's turn to draft
      - Be careful of index shifting. Pokemon are unique, so we could store the species.
        However it may be nicer to shift the index of the queue when a pokemon is drafted
  - Chess moves
    - Clear queue if most recent move of your color failed
    - Clear queue if valid move, but san different (opponent moves a piece into player's premove space)
- Host controls
  - Redesign player list first, both in room and in game
- Better logging
  - Use winston + prometheus + grafana?
- Toast notifications for errors and such
- More detailed modals in game
  - Add server disconnect
- Robots.txt disable search engine crawling (for now)
- (better) Error boundary

Refactor TODOs:
- Potentially lift game logic into new model
- Put API request and response types in shared folder
- Organize frontend types in a single dir and re-use more efficiently
- Separate out draft/ban calls

Issues:
- Fix chess history styling
- Room not resetting fully when rematching sometimes
- Resyncing right after a battle while fast forwarding
  - This issue seems to come and go. Needs more investigation
- Premoves occassionally clearing
- Premoving should still cost .1 seconds, at a minimum
- Disallow premoving for spectators
- Premove decide pawn promotion
- Changing game speed doesn't come into affect until after you caught up from spectating
- Side nav in game goes underneath pokemon healthbar ui
- Error state on failing to upload replay
- Split seed rng for pokemon generation and battle engine
  - Keep battle engine seed secret
- Disallow client controls when the match ends
- Pokemon sprites occasionally disappearing
  - Caching issue? Clearing cache and refreshing fixes it, and it doesn't happen on all clients
- On reconnect, server should check if the game is on going and tell the client the room is closed if it isn't
  - Can test on mobile by turning off the screen and waiting for timeout to occur
- Bigger turn indicator maybe by player details
  - Better indicator that time is ticking down in timer mode
- Make sure you can see timers in pokemon battles
- Player disconnecting removes player nameplate in game
  - On game start, store white player and black player details in separate state instead of fetching them from the connected players
- Pokemon details looks weird on mobile when pokemon only has one move (ditto)
- Joining a room should clear viewing results status
- Some pokemon do not appear in image for background
- Chat rooms work between multiple rooms
- OG/Twitter meta tags do not support svg
- Wrap pokemon statuses

Dropping features:
- Global Chat
  - Don't want to moderate
  - Increases the websocket connections => more servers
  - Discord exists, people can make that
- Break out the draft into multiple phases (i.e pawns, bishops&knights, rooks, queen&king)
  - Could potentially be interesting as an option, but seems like it makes it a little too complicated for not much gain in regards to strategy