TODO:
Queue up your draft and bans
  - Queue up drafts but not bans? Bans seem tough to convey queues with
  - Drafts
    - Instead of merging the board state within BattleChessManager, 
      store state of current drafted pieces and merge the board state
      within draft manager
    - Store a queue of drafts within draft manager that you can the dequeue
      when it is the player's turn to draft
      - Be careful of index shifting. Pokemon are unique, so we could store the species.
        However it may be nicer to shift the index of the queue when a pokemon is drafted
Create formats to quick select game options in room
Write validation functions when writing/reading from localstorage and clear it out if failing validation
Download/upload replay
  - Store current user info as a spectator
  - Offer "Download Replay" button on Error Boundary if player was in game?
    - On error, would need to set the match history in state somewhere. Maybe some sort of error context?
Add more music and make music playlist w/ skip track button
More effects in battle
  - Stat decreases/increases visual effects
  - Healing visual effects
Keyboard navigation and accessibility
Battle conclusion animation? Needs to be a little short and skippable for bullet chess
Add Pokedex on left nav to look up full descriptions?
Lazy loading and preloading
Add "copy code" button in lobby if room code is available
Credits modal
Changelog at bottom of main menu
Dev tool to fetch seed in case of encountering bug or issue
Introduce better match making logic (latency/region) and scheduled matchmaking timer to process that queue

Priority:
- Better logging
  - Use winston + prometheus/loki + grafana?
- (better) How to Play
  - Add more info screens
- More detailed modals in game
  - Are you sure you want to leave? modal when returning to menu in game
  - Add server disconnect
- (better) Error boundary

Scalability Notes:
- 2 servers
  - Lobby
    - Stateless, uses Redis
    - Serves Javascript
    - Handles room queries and fronts initial http requests
  - Game
    - Stateless, uses Redis
    - Handles game logic
    - Creates websocket server for players to join
- 1 Redis db
- Next Steps:
  - Nginx + Kube
    - Learn Helm and set up nginx ingress and redis in cluster
    - Launch multiple Lobby/Game Server Nodes and configure nginx load balancing
    - Attempt to make game lobby stateless
      - Ack functions for game output and resync if fail ack
      - Match making
        - Game server checks redis to see if any players in queue
          - If there is a player, dequeue them and matchmake them
          - If there is not a player, enqueue the player
  - AWS EKS deployment or GCP GKE

Refactor TODOs:
- Add argument for docker compose to attach debugger
- Potentially lift game logic into new model
- Lift weather out of pokemon manager model
- Put API request and response types in shared folder
- Organize frontend types in a single dir and re-use more efficiently
- Separate out draft/ban calls
- Move logic in controller/index into GameRoom

Issues:
- Some pokemon can generate with only status moves (full support) (meowstic)
- After drafting, all pokemon sprites are invisible on chess pieces until a piece is moved
- Some pokemon moves do not show type effectiveness correctly
  - Judgement with Arceus
  - Revelation Dance
  - If pokemon move's damage isn't clear (Grass Knot), then type effectiveness does not render
  - Likely more. Will need to keep an eye out
- Wrong music playing after skipping to current turn when catching up
- Skipping ahead to catch up while the client is about to start a battle locks the client in a state where they're always loading
- Pokemon sprites occasionally disappearing
  - Caching issue? Clearing cache and refreshing fixes it, and it doesn't happen on all clients
- On reconnect, server should check if the game is on going and tell the client the room is closed if it isn't
  - Can test on mobile by turning off the screen and waiting for timeout to occur

Room Options
- Preserve damage after battle
- Tera enabled
  - A Pokemon can only tera once in a match, and then they can't tera again
- Set player colors before starting
- Closed Team Sheets
  - Hide opposing Pokemon information 
  - In draft mode, don't show pokemon information until after drafting it to your side
- Custom Teams
- (maybe) Preserve item usage after battle
- (maybe) Change pokemon on piece promotion
- (maybe) Level Up Progression
  - piece starts out weak, but gains levels/evolutions as you beat other pieces

Dropping features:
- Global Chat
  - Don't want to moderate
  - Increases the websocket connections => more servers
  - Discord exists, people can make that
- Break out the draft into multiple phases (i.e pawns, bishops&knights, rooks, queen&king)
  - Could potentially be interesting as an option, but seems like it makes it a little too complicated for not much gain in regards to strategy